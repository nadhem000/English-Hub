<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Present Perfect III: Negative, Passive & Idioms - English Hub</title>
    
    <!-- Common CSS -->
    <link rel="stylesheet" href="styles/common.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ff1493, #da70d6, #9932cc);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }
        
        .EH-conjugation-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            flex: 1;
        }
        
        .EH-conjugation-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .EH-conjugation-title {
            color: white;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .EH-conjugation-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.2rem;
        }
        
        .EH-conjugation-content {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
        }
        
        .EH-conjugation-section {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .EH-conjugation-section-title {
            font-size: 1.8rem;
            color: #9932cc;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #da70d6;
        }
        
        .EH-conjugation-subsection {
            margin-bottom: 25px;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .EH-conjugation-subsection-title {
            font-size: 1.4rem;
            color: #da70d6;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .EH-conjugation-subsection-icon {
            font-size: 1.6rem;
            margin-right: 10px;
        }
        
        .EH-conjugation-rule {
            margin-bottom: 20px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 10px;
            border-left: 4px solid #da70d6;
        }
        
        .EH-conjugation-rule-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #9932cc;
        }
        
        .EH-conjugation-examples {
            background: #fce4ec;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }
        
        .EH-conjugation-example {
            margin-bottom: 8px;
            padding-left: 10px;
            border-left: 2px solid #da70d6;
        }
        
        .EH-conjugation-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        .EH-conjugation-table th,
        .EH-conjugation-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        
        .EH-conjugation-table th {
            background-color: #da70d6;
            color: white;
        }
        
        .EH-conjugation-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        
        .EH-conjugation-table tr:hover {
            background-color: #fce4ec;
        }
        
        /* Exercise Styles */
        .EH-exercise-section {
            margin-top: 40px;
        }
        
        .EH-exercise-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .EH-exercise-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid #e0e0e0;
        }
        
        .EH-exercise-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        
        .EH-exercise-number {
            display: inline-block;
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #da70d6, #9932cc);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .EH-exercise-text {
            font-size: 1.1rem;
            margin-bottom: 15px;
            color: #333;
        }
        
        .EH-exercise-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .EH-exercise-option {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .EH-exercise-option input {
            cursor: pointer;
        }
        
        .EH-exercise-option label {
            cursor: pointer;
        }
        
        /* Type 1: Multiple Choice Styles */
        .EH-exercise-type1-possibilities3-answers-control {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 30px;
            gap: 20px;
        }

        .EH-exercise-type1-possibilities3-check-answers-btn {
            background: #da70d6;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
            font-size: 1rem;
        }

        .EH-exercise-type1-possibilities3-check-answers-btn:hover {
            background: #9932cc;
        }

        .EH-exercise-type1-possibilities3-score-display {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            display: none;
            width: 100%;
            max-width: 500px;
        }

        .EH-exercise-type1-possibilities3-score-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: #9932cc;
        }

        .EH-exercise-type1-possibilities3-score-value {
            font-size: 2rem;
            font-weight: bold;
            color: #da70d6;
            margin-bottom: 15px;
        }

        .EH-exercise-type1-possibilities3-score-feedback {
            font-size: 1.1rem;
            color: #333;
            margin-bottom: 15px;
        }

        .EH-exercise-type1-possibilities3-answer-status {
            margin-top: 10px;
            font-size: 0.9rem;
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block;
        }

        .EH-exercise-type1-possibilities3-correct-answer {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .EH-exercise-type1-possibilities3-incorrect-answer {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .EH-exercise-type1-possibilities3-option.correct {
            background-color: #d4edda;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #c3e6cb;
        }

        .EH-exercise-type1-possibilities3-option.incorrect {
            background-color: #f8d7da;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #f5c6cb;
        }
        
        /* Type 2: Fill in the Blank Styles */
        .EH-exercise-type2-fillblank-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .EH-exercise-type2-fillblank-input:focus {
            border-color: #da70d6;
            outline: none;
        }
        
        .EH-exercise-type2-fillblank-input-correct {
            border-color: #28a745;
            background-color: #d4edda;
        }
        
        .EH-exercise-type2-fillblank-input-incorrect {
            border-color: #dc3545;
            background-color: #f8d7da;
        }
        
        .EH-exercise-type2-fillblank-input-empty {
            border-color: #ffc107;
        }
        
        .EH-exercise-type2-fillblank-answer-status {
            margin-top: 10px;
            font-size: 0.9rem;
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block;
        }
        
        .EH-exercise-type2-fillblank-correct-answer {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .EH-exercise-type2-fillblank-incorrect-answer {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        /* Type 3: Sentence Ordering Styles */
        .EH-exercise-type3-sentenceorder-word-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 15px;
            border: 2px dashed #e0e0e0;
            border-radius: 10px;
            min-height: 60px;
            margin-bottom: 15px;
        }
        
        .EH-exercise-type3-sentenceorder-word {
            background: #fce4ec;
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid #f8bbd9;
            cursor: move;
            user-select: none;
        }
        
        .EH-exercise-type3-sentenceorder-word:hover {
            background: #f8bbd9;
        }
        
        .EH-exercise-type3-sentenceorder-dragging {
            opacity: 0.5;
        }
        
        .EH-exercise-type3-sentenceorder-correct {
            border-color: #28a745;
            background-color: #f8fff8;
        }
        
        .EH-exercise-type3-sentenceorder-incorrect {
            border-color: #dc3545;
            background-color: #fff8f8;
        }
        
        .EH-exercise-type3-sentenceorder-answer-status {
            margin-top: 10px;
            font-size: 0.9rem;
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block;
        }
        
        .EH-exercise-type3-sentenceorder-correct-answer {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .EH-exercise-type3-sentenceorder-incorrect-answer {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        /* Navigation Buttons */
        .EH-conjugation-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .EH-conjugation-nav-button {
            background: #da70d6;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .EH-conjugation-nav-button:hover {
            background: #9932cc;
        }
        
        .EH-conjugation-nav-button.back {
            background: #e6a0e3;
        }
        
        .EH-conjugation-nav-button.back:hover {
            background: #da70d6;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .EH-conjugation-title {
                font-size: 2rem;
            }
            
            .EH-exercise-container {
                grid-template-columns: 1fr;
            }
            
            .EH-conjugation-navigation {
                flex-direction: column;
                gap: 15px;
            }
            
            .EH-conjugation-nav-button {
                width: 100%;
                justify-content: center;
            }
        }
        
        @media (max-width: 480px) {
            .EH-conjugation-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <div style="position: fixed; top: 20px; right: 20px; z-index: 1000;">
        <select id="language-selector" style="padding: 8px 12px; border-radius: 8px; border: 2px solid #fff; background: rgba(255,255,255,0.9); color: #333; font-weight: bold;">
            <option value="en">English</option>
            <option value="fr">Fran√ßais</option>
            <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
        </select>
    </div>
    
    <div class="EH-site-header">
        <a href="index.html" class="EH-site-logo-link" title="Main Page">
            <img src="assets/icons/icon-192x192.png" alt="English Hub Logo" class="EH-site-logo">
        </a>
        <span class="EH-site-name" data-i18n="common.siteName">English Hub</span>
    </div>
    
    <div class="EH-conjugation-container">
        <header class="EH-conjugation-header">
            <h1 class="EH-conjugation-title" data-i18n="presentPerfect3.title">Present Perfect III: Negative, Passive & Idioms</h1>
            <p class="EH-conjugation-subtitle" data-i18n="presentPerfect3.subtitle">Learn to form negative sentences, use passive voice, and understand common idioms in the present perfect tense</p>
        </header>
        
        <div class="EH-conjugation-content">
            <!-- Introduction Section -->
            <div class="EH-conjugation-section">
                <h2 class="EH-conjugation-section-title" data-i18n="presentPerfect3.introduction.title">Negative Forms in Present Perfect</h2>
                <div class="EH-conjugation-subsection">
                    <h3 class="EH-conjugation-subsection-title">
                        <span class="EH-conjugation-subsection-icon">‚ùå</span>
                        <span data-i18n="presentPerfect3.introduction.whatIs">How to Form Negative Sentences</span>
                    </h3>
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.introduction.definitionTitle">Basic Negative Structure:</div>
                        <p data-i18n="presentPerfect3.introduction.definition">In English, we use "not" after "have/has" to form negative sentences in the present perfect tense.</p>
                        <p data-i18n="presentPerfect3.introduction.formula">Formula: [Subject] + [Have/Has] + "not" + [Past Participle] + [Rest of Sentence]</p>
                    </div>
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.introduction.typesTitle">Types of Negative Sentences:</div>
                        <ul>
                            <li data-i18n="presentPerfect3.introduction.type1">Negative with "To Be"</li>
                            <li data-i18n="presentPerfect3.introduction.type2">Negative with "To Have"</li>
                            <li data-i18n="presentPerfect3.introduction.type3">Negative with Other Verbs</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Negative with To Be Section -->
            <div class="EH-conjugation-section">
                <h2 class="EH-conjugation-section-title" data-i18n="presentPerfect3.toBeNegative.title">Negative with "To Be"</h2>
                <div class="EH-conjugation-subsection">
                    <h3 class="EH-conjugation-subsection-title">
                        <span class="EH-conjugation-subsection-icon">üî§</span>
                        <span data-i18n="presentPerfect3.toBeNegative.conjugation">Negative Formation with "To Be"</span>
                    </h3>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.toBeNegative.ruleTitle">Step-by-Step Process:</div>
                        <p data-i18n="presentPerfect3.toBeNegative.rule">With the verb "to be" in present perfect, we add "not" after "have/has" to form negative sentences.</p>
                        <p data-i18n="presentPerfect3.toBeNegative.formula">Formula: [Subject] + [Have/Has] + "not" + "been" + [Rest of Sentence]</p>
                    </div>
                    
                    <table class="EH-conjugation-table">
                        <thead>
                            <tr>
                                <th data-i18n="common.subject">Subject</th>
                                <th data-i18n="presentPerfect3.toBeNegative.positive">Positive</th>
                                <th data-i18n="presentPerfect3.toBeNegative.negative">Negative</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td data-i18n="common.i">I</td>
                                <td data-i18n="presentPerfect3.toBeNegative.positiveI">I have been to Paris.</td>
                                <td data-i18n="presentPerfect3.toBeNegative.negativeI">I have not been to Paris.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.you">You</td>
                                <td data-i18n="presentPerfect3.toBeNegative.positiveYou">You have been helpful.</td>
                                <td data-i18n="presentPerfect3.toBeNegative.negativeYou">You have not been helpful.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.he">He</td>
                                <td data-i18n="presentPerfect3.toBeNegative.positiveHe">He has been patient.</td>
                                <td data-i18n="presentPerfect3.toBeNegative.negativeHe">He has not been patient.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.she">She</td>
                                <td data-i18n="presentPerfect3.toBeNegative.positiveShe">She has been kind.</td>
                                <td data-i18n="presentPerfect3.toBeNegative.negativeShe">She has not been kind.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.we">We</td>
                                <td data-i18n="presentPerfect3.toBeNegative.positiveWe">We have been quiet.</td>
                                <td data-i18n="presentPerfect3.toBeNegative.negativeWe">We have not been quiet.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.they">They</td>
                                <td data-i18n="presentPerfect3.toBeNegative.positiveThey">They have been friendly.</td>
                                <td data-i18n="presentPerfect3.toBeNegative.negativeThey">They have not been friendly.</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.toBeNegative.contractionsTitle">Contractions:</div>
                        <p data-i18n="presentPerfect3.toBeNegative.contractionsRule">In spoken English and informal writing, we often use contractions (short forms).</p>
                        <div class="EH-conjugation-examples">
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.toBeNegative.contractionExample1">I haven't been to Paris.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.toBeNegative.contractionExample2">You haven't been helpful.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.toBeNegative.contractionExample3">He hasn't been patient.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.toBeNegative.contractionExample4">She hasn't been kind.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.toBeNegative.contractionExample5">We haven't been quiet.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.toBeNegative.contractionExample6">They haven't been friendly.</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Negative with To Have Section -->
            <div class="EH-conjugation-section">
                <h2 class="EH-conjugation-section-title" data-i18n="presentPerfect3.toHaveNegative.title">Negative with "To Have"</h2>
                <div class="EH-conjugation-subsection">
                    <h3 class="EH-conjugation-subsection-title">
                        <span class="EH-conjugation-subsection-icon">üî§</span>
                        <span data-i18n="presentPerfect3.toHaveNegative.conjugation">Negative Formation with "To Have"</span>
                    </h3>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.toHaveNegative.ruleTitle">Step-by-Step Process:</div>
                        <p data-i18n="presentPerfect3.toHaveNegative.rule">With the verb "to have" in present perfect, we add "not" after "have/has" to form negative sentences.</p>
                        <p data-i18n="presentPerfect3.toHaveNegative.formula">Formula: [Subject] + [Have/Has] + "not" + "had" + [Rest of Sentence]</p>
                    </div>
                    
                    <table class="EH-conjugation-table">
                        <thead>
                            <tr>
                                <th data-i18n="common.subject">Subject</th>
                                <th data-i18n="presentPerfect3.toHaveNegative.positive">Positive</th>
                                <th data-i18n="presentPerfect3.toHaveNegative.negative">Negative</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td data-i18n="common.i">I</td>
                                <td data-i18n="presentPerfect3.toHaveNegative.positiveI">I have had lunch.</td>
                                <td data-i18n="presentPerfect3.toHaveNegative.negativeI">I have not had lunch.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.you">You</td>
                                <td data-i18n="presentPerfect3.toHaveNegative.positiveYou">You have had a good time.</td>
                                <td data-i18n="presentPerfect3.toHaveNegative.negativeYou">You have not had a good time.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.he">He</td>
                                <td data-i18n="presentPerfect3.toHaveNegative.positiveHe">He has had trouble.</td>
                                <td data-i18n="presentPerfect3.toHaveNegative.negativeHe">He has not had trouble.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.she">She</td>
                                <td data-i18n="presentPerfect3.toHaveNegative.positiveShe">She has had a party.</td>
                                <td data-i18n="presentPerfect3.toHaveNegative.negativeShe">She has not had a party.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.we">We</td>
                                <td data-i18n="presentPerfect3.toHaveNegative.positiveWe">We have had a meeting.</td>
                                <td data-i18n="presentPerfect3.toHaveNegative.negativeWe">We have not had a meeting.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.they">They</td>
                                <td data-i18n="presentPerfect3.toHaveNegative.positiveThey">They have had fun.</td>
                                <td data-i18n="presentPerfect3.toHaveNegative.negativeThey">They have not had fun.</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.toHaveNegative.contractionsTitle">Contractions:</div>
                        <p data-i18n="presentPerfect3.toHaveNegative.contractionsRule">In spoken English and informal writing, we often use contractions (short forms).</p>
                        <div class="EH-conjugation-examples">
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.toHaveNegative.contractionExample1">I haven't had lunch.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.toHaveNegative.contractionExample2">You haven't had a good time.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.toHaveNegative.contractionExample3">He hasn't had trouble.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.toHaveNegative.contractionExample4">She hasn't had a party.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.toHaveNegative.contractionExample5">We haven't had a meeting.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.toHaveNegative.contractionExample6">They haven't had fun.</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Negative with Other Verbs Section -->
            <div class="EH-conjugation-section">
                <h2 class="EH-conjugation-section-title" data-i18n="presentPerfect3.otherVerbsNegative.title">Negative with Other Verbs</h2>
                <div class="EH-conjugation-subsection">
                    <h3 class="EH-conjugation-subsection-title">
                        <span class="EH-conjugation-subsection-icon">üìù</span>
                        <span data-i18n="presentPerfect3.otherVerbsNegative.conjugation">Negative Formation with Regular and Irregular Verbs</span>
                    </h3>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.otherVerbsNegative.ruleTitle">Step-by-Step Process:</div>
                        <p data-i18n="presentPerfect3.otherVerbsNegative.rule">For all other verbs in the present perfect, we add "not" after "have/has" to form negative sentences.</p>
                        <p data-i18n="presentPerfect3.otherVerbsNegative.formula">Formula: [Subject] + [Have/Has] + "not" + [Past Participle] + [Rest of Sentence]</p>
                    </div>
                    
                    <table class="EH-conjugation-table">
                        <thead>
                            <tr>
                                <th data-i18n="common.subject">Subject</th>
                                <th data-i18n="presentPerfect3.otherVerbsNegative.positive">Positive</th>
                                <th data-i18n="presentPerfect3.otherVerbsNegative.negative">Negative</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td data-i18n="common.i">I</td>
                                <td data-i18n="presentPerfect3.otherVerbsNegative.positiveI">I have worked here.</td>
                                <td data-i18n="presentPerfect3.otherVerbsNegative.negativeI">I have not worked here.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.you">You</td>
                                <td data-i18n="presentPerfect3.otherVerbsNegative.positiveYou">You have studied English.</td>
                                <td data-i18n="presentPerfect3.otherVerbsNegative.negativeYou">You have not studied English.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.he">He</td>
                                <td data-i18n="presentPerfect3.otherVerbsNegative.positiveHe">He has played soccer.</td>
                                <td data-i18n="presentPerfect3.otherVerbsNegative.negativeHe">He has not played soccer.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.she">She</td>
                                <td data-i18n="presentPerfect3.otherVerbsNegative.positiveShe">She has read a book.</td>
                                <td data-i18n="presentPerfect3.otherVerbsNegative.negativeShe">She has not read a book.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.we">We</td>
                                <td data-i18n="presentPerfect3.otherVerbsNegative.positiveWe">We have watched a movie.</td>
                                <td data-i18n="presentPerfect3.otherVerbsNegative.negativeWe">We have not watched a movie.</td>
                            </tr>
                            <tr>
                                <td data-i18n="common.they">They</td>
                                <td data-i18n="presentPerfect3.otherVerbsNegative.positiveThey">They have cooked dinner.</td>
                                <td data-i18n="presentPerfect3.otherVerbsNegative.negativeThey">They have not cooked dinner.</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.otherVerbsNegative.contractionsTitle">Contractions:</div>
                        <p data-i18n="presentPerfect3.otherVerbsNegative.contractionsRule">In spoken English and informal writing, we often use contractions (short forms).</p>
                        <div class="EH-conjugation-examples">
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.otherVerbsNegative.contractionExample1">I haven't worked here.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.otherVerbsNegative.contractionExample2">You haven't studied English.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.otherVerbsNegative.contractionExample3">He hasn't played soccer.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.otherVerbsNegative.contractionExample4">She hasn't read a book.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.otherVerbsNegative.contractionExample5">We haven't watched a movie.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.otherVerbsNegative.contractionExample6">They haven't cooked dinner.</div>
                        </div>
                    </div>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.otherVerbsNegative.irregularTitle">Negative with Irregular Verbs:</div>
                        <p data-i18n="presentPerfect3.otherVerbsNegative.irregularRule">Even with irregular verbs, we still use the same negative structure in the present perfect tense.</p>
                        <div class="EH-conjugation-examples">
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.otherVerbsNegative.irregularExample1">I haven't gone to the store. (go ‚Üí gone)</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.otherVerbsNegative.irregularExample2">She hasn't done her homework. (do ‚Üí done)</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.otherVerbsNegative.irregularExample3">They haven't taken a break. (take ‚Üí taken)</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Passive Voice Section -->
            <div class="EH-conjugation-section">
                <h2 class="EH-conjugation-section-title" data-i18n="presentPerfect3.passive.title">Passive Voice in Present Perfect</h2>
                <div class="EH-conjugation-subsection">
                    <h3 class="EH-conjugation-subsection-title">
                        <span class="EH-conjugation-subsection-icon">üîÑ</span>
                        <span data-i18n="presentPerfect3.passive.whatIs">What is Passive Voice?</span>
                    </h3>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.passive.definitionTitle">Definition:</div>
                        <p data-i18n="presentPerfect3.passive.definition">In passive voice, the subject receives the action rather than performing it. We use passive voice when the doer of the action is unknown, unimportant, or obvious from context.</p>
                    </div>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.passive.structureTitle">Structure of Passive Voice in Present Perfect:</div>
                        <p data-i18n="presentPerfect3.passive.structureRule">Formula: [Subject] + [have/has] + "been" + [Past Participle] + [by + agent (optional)]</p>
                        <p data-i18n="presentPerfect3.passive.structureExample">Example: "The house has been built by workers."</p>
                    </div>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.passive.formationTitle">Forming Passive Voice:</div>
                        <p data-i18n="presentPerfect3.passive.formationRule">To form passive voice in present perfect tense, use the appropriate form of "have/has" followed by "been" and the past participle of the main verb.</p>
                    </div>
                    
                    <table class="EH-conjugation-table">
                        <thead>
                            <tr>
                                <th data-i18n="presentPerfect3.passive.active">Active Voice</th>
                                <th data-i18n="presentPerfect3.passive.passive">Passive Voice</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td data-i18n="presentPerfect3.passive.activeExample1">I have written a letter.</td>
                                <td data-i18n="presentPerfect3.passive.passiveExample1">A letter has been written by me.</td>
                            </tr>
                            <tr>
                                <td data-i18n="presentPerfect3.passive.activeExample2">You have cleaned the room.</td>
                                <td data-i18n="presentPerfect3.passive.passiveExample2">The room has been cleaned by you.</td>
                            </tr>
                            <tr>
                                <td data-i18n="presentPerfect3.passive.activeExample3">He has fixed the car.</td>
                                <td data-i18n="presentPerfect3.passive.passiveExample3">The car has been fixed by him.</td>
                            </tr>
                            <tr>
                                <td data-i18n="presentPerfect3.passive.activeExample4">She has taught the students.</td>
                                <td data-i18n="presentPerfect3.passive.passiveExample4">The students have been taught by her.</td>
                            </tr>
                            <tr>
                                <td data-i18n="presentPerfect3.passive.activeExample5">We have built houses.</td>
                                <td data-i18n="presentPerfect3.passive.passiveExample5">Houses have been built by us.</td>
                            </tr>
                            <tr>
                                <td data-i18n="presentPerfect3.passive.activeExample6">They have sold fruits.</td>
                                <td data-i18n="presentPerfect3.passive.passiveExample6">Fruits have been sold by them.</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.passive.negativeTitle">Negative Passive Voice:</div>
                        <p data-i18n="presentPerfect3.passive.negativeRule">To form negative passive voice, add "not" after "have/has".</p>
                        <div class="EH-conjugation-examples">
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.passive.negativeExample1">The house has not been built by workers.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.passive.negativeExample2">The car has not been fixed by him.</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.passive.negativeExample3">The students have not been taught by her.</div>
                        </div>
                    </div>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.passive.questionTitle">Question Form in Passive Voice:</div>
                        <p data-i18n="presentPerfect3.passive.questionRule">To form questions in passive voice, invert the subject and "have/has".</p>
                        <div class="EH-conjugation-examples">
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.passive.questionExample1">Has the house been built by workers?</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.passive.questionExample2">Has the car been fixed by him?</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.passive.questionExample3">Have the students been taught by her?</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Idioms Section -->
            <div class="EH-conjugation-section">
                <h2 class="EH-conjugation-section-title" data-i18n="presentPerfect3.idioms.title">Common Idioms in Present Perfect</h2>
                <div class="EH-conjugation-subsection">
                    <h3 class="EH-conjugation-subsection-title">
                        <span class="EH-conjugation-subsection-icon">üí¨</span>
                        <span data-i18n="presentPerfect3.idioms.whatAre">What Are Idioms?</span>
                    </h3>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.idioms.definitionTitle">Definition:</div>
                        <p data-i18n="presentPerfect3.idioms.definition">Idioms are expressions whose meanings cannot be understood from the literal definitions of the words that make them up. They often use the present perfect tense to describe experiences or completed actions.</p>
                    </div>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.idioms.commonIdiomsTitle">Common Idioms in Present Perfect:</div>
                        <table class="EH-conjugation-table">
                            <thead>
                                <tr>
                                    <th data-i18n="presentPerfect3.idioms.idiom">Idiom</th>
                                    <th data-i18n="presentPerfect3.idioms.meaning">Meaning</th>
                                    <th data-i18n="presentPerfect3.idioms.example">Example</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td data-i18n="presentPerfect3.idioms.turnedOverANewLeaf">Turned over a new leaf</td>
                                    <td data-i18n="presentPerfect3.idioms.turnedOverANewLeafMeaning">Started behaving better</td>
                                    <td data-i18n="presentPerfect3.idioms.turnedOverANewLeafExample">"He's turned over a new leaf since last year."</td>
                                </tr>
                                <tr>
                                    <td data-i18n="presentPerfect3.idioms.beenThroughTheMill">Been through the mill</td>
                                    <td data-i18n="presentPerfect3.idioms.beenThroughTheMillMeaning">Had many difficult experiences</td>
                                    <td data-i18n="presentPerfect3.idioms.beenThroughTheMillExample">"She's been through the mill with that project."</td>
                                </tr>
                                <tr>
                                    <td data-i18n="presentPerfect3.idioms.goneTheExtraMile">Gone the extra mile</td>
                                    <td data-i18n="presentPerfect3.idioms.goneTheExtraMileMeaning">Made extra effort</td>
                                    <td data-i18n="presentPerfect3.idioms.goneTheExtraMileExample">"They've gone the extra mile to help us."</td>
                                </tr>
                                <tr>
                                    <td data-i18n="presentPerfect3.idioms.seenBetterDays">Seen better days</td>
                                    <td data-i18n="presentPerfect3.idioms.seenBetterDaysMeaning">In poor condition now</td>
                                    <td data-i18n="presentPerfect3.idioms.seenBetterDaysExample">"This car has seen better days."</td>
                                </tr>
                                <tr>
                                    <td data-i18n="presentPerfect3.idioms.hitTheJackpot">Hit the jackpot</td>
                                    <td data-i18n="presentPerfect3.idioms.hitTheJackpotMeaning">Had great success or luck</td>
                                    <td data-i18n="presentPerfect3.idioms.hitTheJackpotExample">"We've hit the jackpot with this new client."</td>
                                </tr>
                                <tr>
                                    <td data-i18n="presentPerfect3.idioms.bittenTheBullet">Bitten the bullet</td>
                                    <td data-i18n="presentPerfect3.idioms.bittenTheBulletMeaning">Done something difficult but necessary</td>
                                    <td data-i18n="presentPerfect3.idioms.bittenTheBulletExample">"I've bitten the bullet and started my diet."</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="EH-conjugation-rule">
                        <div class="EH-conjugation-rule-title" data-i18n="presentPerfect3.idioms.usageTitle">Using Idioms in Sentences:</div>
                        <p data-i18n="presentPerfect3.idioms.usageRule">Idioms are often used in present perfect tense to describe experiences or completed actions that have relevance to the present.</p>
                        <div class="EH-conjugation-examples">
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.idioms.usageExample1">"I've turned over a new leaf and started exercising regularly."</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.idioms.usageExample2">"She's been through the mill with her health issues."</div>
                            <div class="EH-conjugation-example" data-i18n="presentPerfect3.idioms.usageExample3">"We've hit the jackpot with our new business idea."</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Exercises Section -->
            <div class="EH-conjugation-section EH-exercise-section">
                <h2 class="EH-conjugation-section-title" data-i18n="presentPerfect3.exercises.title">Practice Exercises</h2>
                
                <!-- Type 1: Multiple Choice Exercises -->
                <h3 style="color: #9932cc; margin-bottom: 20px;">Multiple Choice</h3>
                <div class="EH-exercise-container">
                    <!-- Exercise 1 -->
                    <div class="EH-exercise-card">
                        <div class="EH-exercise-number">1</div>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q1">Choose the correct negative form:</p>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q1Sentence">She ______ to London.</p>
                        <div class="EH-exercise-options">
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q1-a" name="EH-exercise-type1-possibilities3-q1" value="a">
                                <label for="EH-exercise-type1-possibilities3-q1-a" data-i18n="presentPerfect3.exercises.q1a">has not been</label>
                            </div>
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q1-b" name="EH-exercise-type1-possibilities3-q1" value="b">
                                <label for="EH-exercise-type1-possibilities3-q1-b" data-i18n="presentPerfect3.exercises.q1b">does not been</label>
                            </div>
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q1-c" name="EH-exercise-type1-possibilities3-q1" value="c">
                                <label for="EH-exercise-type1-possibilities3-q1-c" data-i18n="presentPerfect3.exercises.q1c">not has been</label>
                            </div>
                        </div>
                        <div class="EH-exercise-type1-possibilities3-answer-status" id="EH-exercise-type1-possibilities3-q1-status"></div>
                    </div>
                    
                    <!-- Exercise 2 -->
                    <div class="EH-exercise-card">
                        <div class="EH-exercise-number">2</div>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q2">Choose the correct negative form:</p>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q2Sentence">They ______ that movie.</p>
                        <div class="EH-exercise-options">
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q2-a" name="EH-exercise-type1-possibilities3-q2" value="a">
                                <label for="EH-exercise-type1-possibilities3-q2-a" data-i18n="presentPerfect3.exercises.q2a">haven't seen</label>
                            </div>
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q2-b" name="EH-exercise-type1-possibilities3-q2" value="b">
                                <label for="EH-exercise-type1-possibilities3-q2-b" data-i18n="presentPerfect3.exercises.q2b">haven't saw</label>
                            </div>
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q2-c" name="EH-exercise-type1-possibilities3-q2" value="c">
                                <label for="EH-exercise-type1-possibilities3-q2-c" data-i18n="presentPerfect3.exercises.q2c">not have seen</label>
                            </div>
                        </div>
                        <div class="EH-exercise-type1-possibilities3-answer-status" id="EH-exercise-type1-possibilities3-q2-status"></div>
                    </div>
                    
                    <!-- Exercise 3 -->
                    <div class="EH-exercise-card">
                        <div class="EH-exercise-number">3</div>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q3">Choose the correct passive form:</p>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q3Sentence">The house ______ by workers.</p>
                        <div class="EH-exercise-options">
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q3-a" name="EH-exercise-type1-possibilities3-q3" value="a">
                                <label for="EH-exercise-type1-possibilities3-q3-a" data-i18n="presentPerfect3.exercises.q3a">has been built</label>
                            </div>
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q3-b" name="EH-exercise-type1-possibilities3-q3" value="b">
                                <label for="EH-exercise-type1-possibilities3-q3-b" data-i18n="presentPerfect3.exercises.q3b">has built</label>
                            </div>
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q3-c" name="EH-exercise-type1-possibilities3-q3" value="c">
                                <label for="EH-exercise-type1-possibilities3-q3-c" data-i18n="presentPerfect3.exercises.q3c">has been building</label>
                            </div>
                        </div>
                        <div class="EH-exercise-type1-possibilities3-answer-status" id="EH-exercise-type1-possibilities3-q3-status"></div>
                    </div>
                    
                    <!-- Exercise 4 -->
                    <div class="EH-exercise-card">
                        <div class="EH-exercise-number">4</div>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q4">Choose the correct idiom meaning:</p>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q4Sentence">"Turned over a new leaf" means:</p>
                        <div class="EH-exercise-options">
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q4-a" name="EH-exercise-type1-possibilities3-q4" value="a">
                                <label for="EH-exercise-type1-possibilities3-q4-a" data-i18n="presentPerfect3.exercises.q4a">Started behaving better</label>
                            </div>
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q4-b" name="EH-exercise-type1-possibilities3-q4" value="b">
                                <label for="EH-exercise-type1-possibilities3-q4-b" data-i18n="presentPerfect3.exercises.q4b">Changed jobs</label>
                            </div>
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q4-c" name="EH-exercise-type1-possibilities3-q4" value="c">
                                <label for="EH-exercise-type1-possibilities3-q4-c" data-i18n="presentPerfect3.exercises.q4c">Moved to a new house</label>
                            </div>
                        </div>
                        <div class="EH-exercise-type1-possibilities3-answer-status" id="EH-exercise-type1-possibilities3-q4-status"></div>
                    </div>
                    
                    <!-- Exercise 5 -->
                    <div class="EH-exercise-card">
                        <div class="EH-exercise-number">5</div>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q5">Choose the correct negative passive form:</p>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q5Sentence">The car ______ by him.</p>
                        <div class="EH-exercise-options">
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q5-a" name="EH-exercise-type1-possibilities3-q5" value="a">
                                <label for="EH-exercise-type1-possibilities3-q5-a" data-i18n="presentPerfect3.exercises.q5a">has not been fixed</label>
                            </div>
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q5-b" name="EH-exercise-type1-possibilities3-q5" value="b">
                                <label for="EH-exercise-type1-possibilities3-q5-b" data-i18n="presentPerfect3.exercises.q5b">doesn't fixing</label>
                            </div>
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q5-c" name="EH-exercise-type1-possibilities3-q5" value="c">
                                <label for="EH-exercise-type1-possibilities3-q5-c" data-i18n="presentPerfect3.exercises.q5c">not has been fixed</label>
                            </div>
                        </div>
                        <div class="EH-exercise-type1-possibilities3-answer-status" id="EH-exercise-type1-possibilities3-q5-status"></div>
                    </div>
                    
                    <!-- Exercise 6 -->
                    <div class="EH-exercise-card">
                        <div class="EH-exercise-number">6</div>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q6">Choose the correct idiom meaning:</p>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q6Sentence">"Been through the mill" means:</p>
                        <div class="EH-exercise-options">
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q6-a" name="EH-exercise-type1-possibilities3-q6" value="a">
                                <label for="EH-exercise-type1-possibilities3-q6-a" data-i18n="presentPerfect3.exercises.q6a">Had many difficult experiences</label>
                            </div>
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q6-b" name="EH-exercise-type1-possibilities3-q6" value="b">
                                <label for="EH-exercise-type1-possibilities3-q6-b" data-i18n="presentPerfect3.exercises.q6b">Visited a factory</label>
                            </div>
                            <div class="EH-exercise-option EH-exercise-type1-possibilities3-option">
                                <input type="radio" id="EH-exercise-type1-possibilities3-q6-c" name="EH-exercise-type1-possibilities3-q6" value="c">
                                <label for="EH-exercise-type1-possibilities3-q6-c" data-i18n="presentPerfect3.exercises.q6c">Worked hard</label>
                            </div>
                        </div>
                        <div class="EH-exercise-type1-possibilities3-answer-status" id="EH-exercise-type1-possibilities3-q6-status"></div>
                    </div>
                </div>
                
                <!-- Type 2: Fill in the Blank Exercises -->
                <h3 style="color: #9932cc; margin: 40px 0 20px 0;">Fill in the Blank</h3>
                <div class="EH-exercise-container">
                    <!-- Exercise 7 -->
                    <div class="EH-exercise-card">
                        <div class="EH-exercise-number">7</div>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q7">Complete the negative sentence:</p>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q7Sentence">I ______ (not/visit) Paris.</p>
                        <input type="text" class="EH-exercise-type2-fillblank-input" id="EH-exercise-type2-fillblank-q1-input" placeholder="Type your answer here">
                        <div class="EH-exercise-type2-fillblank-answer-status" id="EH-exercise-type2-fillblank-q1-status"></div>
                    </div>
                    
                    <!-- Exercise 8 -->
                    <div class="EH-exercise-card">
                        <div class="EH-exercise-number">8</div>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q8">Complete the passive sentence:</p>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q8Sentence">The report ______ (write) by the team.</p>
                        <input type="text" class="EH-exercise-type2-fillblank-input" id="EH-exercise-type2-fillblank-q2-input" placeholder="Type your answer here">
                        <div class="EH-exercise-type2-fillblank-answer-status" id="EH-exercise-type2-fillblank-q2-status"></div>
                    </div>
                    
                    <!-- Exercise 9 -->
                    <div class="EH-exercise-card">
                        <div class="EH-exercise-number">9</div>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q9">Complete the negative passive sentence:</p>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q9Sentence">The room ______ (not/clean).</p>
                        <input type="text" class="EH-exercise-type2-fillblank-input" id="EH-exercise-type2-fillblank-q3-input" placeholder="Type your answer here">
                        <div class="EH-exercise-type2-fillblank-answer-status" id="EH-exercise-type2-fillblank-q3-status"></div>
                    </div>
                </div>
                
                <!-- Type 3: Sentence Ordering Exercises -->
                <h3 style="color: #9932cc; margin: 40px 0 20px 0;">Sentence Ordering</h3>
                <div class="EH-exercise-container">
                    <!-- Exercise 10 -->
                    <div class="EH-exercise-card">
                        <div class="EH-exercise-number">10</div>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q10">Arrange the words to form a correct negative sentence:</p>
                        <div class="EH-exercise-type3-sentenceorder-word-container" id="EH-exercise-type3-sentenceorder-q1-words">
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q1-word1" data-original-index="1">He</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q1-word3" data-original-index="3">not</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q1-word5" data-original-index="5">.</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q1-word4" data-original-index="4">lunch</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q1-word2" data-original-index="2">has</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q1-word6" data-original-index="6">had</span>
                        </div>
                        <div class="EH-exercise-type3-sentenceorder-answer-status" id="EH-exercise-type3-sentenceorder-q1-status"></div>
                    </div>
                    
                    <!-- Exercise 11 -->
                    <div class="EH-exercise-card">
                        <div class="EH-exercise-number">11</div>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q11">Arrange the words to form a correct passive sentence:</p>
                        <div class="EH-exercise-type3-sentenceorder-word-container" id="EH-exercise-type3-sentenceorder-q2-words">
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q2-word1" data-original-index="1">The</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q2-word3" data-original-index="3">by</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q2-word5" data-original-index="5">.</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q2-word4" data-original-index="4">workers</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q2-word2" data-original-index="2">house</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q2-word7" data-original-index="7">has</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q2-word8" data-original-index="8">been</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q2-word6" data-original-index="6">built</span>
                        </div>
                        <div class="EH-exercise-type3-sentenceorder-answer-status" id="EH-exercise-type3-sentenceorder-q2-status"></div>
                    </div>
                    
                    <!-- Exercise 12 -->
                    <div class="EH-exercise-card">
                        <div class="EH-exercise-number">12</div>
                        <p class="EH-exercise-text" data-i18n="presentPerfect3.exercises.q12">Arrange the words to form a sentence with an idiom:</p>
                        <div class="EH-exercise-type3-sentenceorder-word-container" id="EH-exercise-type3-sentenceorder-q3-words">
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q3-word1" data-original-index="1">He</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q3-word3" data-original-index="3">a</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q3-word5" data-original-index="5">leaf</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q3-word4" data-original-index="4">new</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q3-word2" data-original-index="2">has</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q3-word6" data-original-index="6">.</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q3-word8" data-original-index="8">turned</span>
                            <span class="EH-exercise-type3-sentenceorder-word" id="EH-exercise-type3-sentenceorder-q3-word7" data-original-index="7">over</span>
                        </div>
                        <div class="EH-exercise-type3-sentenceorder-answer-status" id="EH-exercise-type3-sentenceorder-q3-status"></div>
                    </div>
                </div>
                
                <!-- Answer Check and Score System -->
                <div class="EH-exercise-type1-possibilities3-answers-control">
                    <button class="EH-exercise-type1-possibilities3-check-answers-btn" id="EH-exercise-type1-possibilities3-check-answers">Check All Answers</button>
                    <div class="EH-exercise-type1-possibilities3-score-display" id="EH-exercise-type1-possibilities3-score-display">
                        <h3 class="EH-exercise-type1-possibilities3-score-title">Your Score</h3>
                        <div class="EH-exercise-type1-possibilities3-score-value" id="EH-exercise-type1-possibilities3-score-value">0/12</div>
                        <p class="EH-exercise-type1-possibilities3-score-feedback" id="EH-exercise-type1-possibilities3-score-feedback">Check your answers to see how you did!</p>
                    </div>
                </div>
            </div>
            
            <!-- Navigation Buttons -->
            <div class="EH-conjugation-navigation">
                <button class="EH-conjugation-nav-button back" onclick="window.location.href='EH-conj-present-perfect-p2.html'">
                    ‚Üê <span data-i18n="common.backToConjugation">Back to Present Perfect II</span>
                </button>
                <button class="EH-conjugation-nav-button" onclick="window.location.href='conjugation.html'">
                    <span data-i18n="common.backToConjugation">Back to Verb Conjugation</span> ‚Üí
                </button>
            </div>
        </div>
    </div>
    
    <footer class="EH-common-footer">
        <div class="EH-common-footer-content">
            <div class="EH-common-footer-developer" data-i18n="footer.developer">Developer: Mejri Ziad</div>
            <div class="EH-common-footer-links">
                <a href="#" data-i18n="footer.privacy">Privacy Policy</a>
                <a href="#" data-i18n="footer.terms">Terms of Service</a>
                <a href="#" data-i18n="footer.contact">Contact</a>
            </div>
        </div>
    </footer>
    
    <!-- i18n translations -->
    <script src="scripts/translations/i18n_en.js"></script>
    <script src="scripts/translations/i18n_fr.js"></script>
    <script src="scripts/translations/i18n_ar.js"></script>
    <script src="scripts/common-i18n.js"></script>
    <script src="scripts/exercise.js"></script>
    
    <script>
        // Correct answers for Type 1 exercises
        const correctAnswersType1 = {
            'EH-exercise-type1-possibilities3-q1': 'a', // She has not been to London.
            'EH-exercise-type1-possibilities3-q2': 'a', // They haven't seen that movie.
            'EH-exercise-type1-possibilities3-q3': 'a', // The house has been built by workers.
            'EH-exercise-type1-possibilities3-q4': 'a', // Turned over a new leaf means started behaving better.
            'EH-exercise-type1-possibilities3-q5': 'a', // The car has not been fixed by him.
            'EH-exercise-type1-possibilities3-q6': 'a'  // Been through the mill means had many difficult experiences.
        };
        
        // Correct answers for Type 2 exercises
        const correctAnswersType2 = {
            'EH-exercise-type2-fillblank-q1': 'have not visited',     // I have not visited Paris.
            'EH-exercise-type2-fillblank-q2': 'has been written',     // The report has been written by the team.
            'EH-exercise-type2-fillblank-q3': 'has not been cleaned'  // The room has not been cleaned.
        };
        
        // Correct answers for Type 3 exercises
        const correctAnswersType3 = {
            'EH-exercise-type3-sentenceorder-q1': 'He has not had lunch .',
            'EH-exercise-type3-sentenceorder-q2': 'The house has been built by workers .',
            'EH-exercise-type3-sentenceorder-q3': 'He has turned over a new leaf .'
        };
        
        // Combined function to check all exercise types
        function checkAllExercises() {
            let totalScore = 0;
            let totalQuestions = 0;
            
            // Check Type 1 exercises
            const type1Score = ExerciseType1Possibilities3CheckAnswers(correctAnswersType1, Object.keys(correctAnswersType1).length, 'EH-exercise-type1-possibilities3');
            totalScore += type1Score;
            totalQuestions += Object.keys(correctAnswersType1).length;
            
            // Check Type 2 exercises
            const type2Score = ExerciseType2FillBlankCheckAnswers(correctAnswersType2, Object.keys(correctAnswersType2).length, 'EH-exercise-type2-fillblank');
            totalScore += type2Score;
            totalQuestions += Object.keys(correctAnswersType2).length;
            
            // Check Type 3 exercises
            const type3Score = ExerciseType3SentenceOrderCheckAnswers(correctAnswersType3, Object.keys(correctAnswersType3).length, 'EH-exercise-type3-sentenceorder');
            totalScore += type3Score;
            totalQuestions += Object.keys(correctAnswersType3).length;
            
            // Update combined score display
            const scoreValue = document.getElementById('EH-exercise-type1-possibilities3-score-value');
            const scoreFeedback = document.getElementById('EH-exercise-type1-possibilities3-score-feedback');
            
            if (scoreValue) scoreValue.textContent = `${totalScore}/${totalQuestions}`;
            
            if (scoreFeedback) {
                if (totalScore === totalQuestions) {
                    scoreFeedback.textContent = 'Excellent! You got all the answers correct!';
                } else if (totalScore >= totalQuestions * 0.7) {
                    scoreFeedback.textContent = 'Good job! You did well on this exercise.';
                } else if (totalScore >= totalQuestions * 0.5) {
                    scoreFeedback.textContent = 'Not bad, but you might want to review the material again.';
                } else {
                    scoreFeedback.textContent = 'You might want to review the material and try again.';
                }
            }
            
            return totalScore;
        }
        
        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Set up answer checking for all exercise types
            ExerciseType1Possibilities3Init(correctAnswersType1, Object.keys(correctAnswersType1).length, 'EH-exercise-type1-possibilities3');
            ExerciseType2FillBlankInit(correctAnswersType2, Object.keys(correctAnswersType2).length, 'EH-exercise-type2-fillblank');
            ExerciseType3SentenceOrderInit(correctAnswersType3, Object.keys(correctAnswersType3).length, 'EH-exercise-type3-sentenceorder');
            
            // Replace the default check button with our combined function
            const checkButton = document.getElementById('EH-exercise-type1-possibilities3-check-answers');
            if (checkButton) {
                checkButton.addEventListener('click', checkAllExercises);
            }
        });
    </script>
</body>
</html>